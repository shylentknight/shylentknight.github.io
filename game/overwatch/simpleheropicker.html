<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Overwatch Hero Picker</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #111;
    color: #eee;
    text-align: center;
    padding: 40px;
  }
  button {
    margin: 10px;
    padding: 12px 20px;
    font-size: 18px;
    cursor: pointer;
    border: none;
    border-radius: 6px;
    background: #ff9c00;
    color: #111;
    font-weight: bold;
  }
  #result {
    margin-top: 30px;
    font-size: 32px;
    font-weight: bold;
    color: #00eaff;
  }
  #history {
    margin-top: 40px;
    font-size: 18px;
    color: #ccc;
  }
</style>
</head>
<body>

<h1>Another Overwatch Hero Picker</h1>

<button onclick="pick('tank')">Pick Tank</button>
<button onclick="pick('damage')">Pick Damage</button>
<button onclick="pick('support')">Pick Support</button>
<button onclick="pick('flex')">Flex</button>

<div id="result"></div>
<div id="history"></div>

<script>
  const pools = {
    tank: [
      "D.Va", "Doomfist", "Junker Queen", "Mauga", "Orisa",
      "Ramattra", "Reinhardt", "Roadhog", "Sigma",
      "Winston", "Wrecking Ball", "Zarya"
    ],
    damage: [
      "Ashe", "Bastion", "Cassidy", "Echo", "Genji", "Hanzo",
      "Junkrat", "Mei", "Pharah", "Reaper", "Sojourn",
      "Soldier: 76", "Sombra", "Symmetra", "Torbjörn",
      "Tracer", "Venture", "Widowmaker", "Freja"
    ],
    support: [
      "Ana", "Baptiste", "Brigitte", "Illari", "Kiriko",
      "Lifeweaver", "Lúcio", "Mercy", "Moira",
      "Zenyatta", "Wuyang"
    ]
  };

  // No-repeat tracking
  const used = { tank: [], damage: [], support: [], flex: [] };

  // History log
  const history = [];

  function getPool(role) {
    if (role === "flex") {
      return [...pools.tank, ...pools.damage, ...pools.support];
    }
    return pools[role];
  }

  function pick(role) {
    const pool = getPool(role);
    const usedPool = used[role];

    // Reset if all used
    if (usedPool.length === pool.length) {
      usedPool.length = 0;
    }

    // Filter unused heroes
    const available = pool.filter(h => !usedPool.includes(h));

    // Pick random
    const hero = available[Math.floor(Math.random() * available.length)];

    // Mark as used
    usedPool.push(hero);

    // Update UI
    document.getElementById("result").textContent = hero;

    // Add to history
    history.unshift(hero);
    if (history.length > 5) history.pop();

    document.getElementById("history").innerHTML =
      "<strong>History:</strong><br>" + history.join("<br />");
  }
</script>

</body>
</html>